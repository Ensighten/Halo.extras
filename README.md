# Halo.extras

Collection of plugins and utilities for [Halo][halo].

[Halo][halo] is a client-side MVC framework based on Addy Osmani's Aura.

[halo]: https://github.com/Ensighten/Halo

## Getting Started
1. Review the documentation.
2. Select and download the files you want.

## Documentation
### Halo extras
#### ModalFactory
controllers/ModalFactory.js is wrapper for HtmlController which takes returned content and places inside of a modal.

Modals have customizable containers which can be modified via `Sauron.voice('modal/update', params)` or `Sauron.voice('modal/{{option}}', 'value');`.

Also, ModalFactory interprets the second called back property of an HtmlController as the modal options.

The wrapper is called via `Sauron.createController('ModalFactory', 'controllerName', {'options': 'for controller'}, callback);`.

This has an external dependency on [jqModal][jqModal] (namespaced `modal`).

[jqModal]: http://dev.iceburg.net/jquery/jqModal

#### Sandbox
pages/sandbox.html is a development page for controllers. Since every controller is a module inside of Halo, we can load an individual one with the entire page as its container.

Sandbox provides a set of input boxes which are `eval`d to provide parameters for your controller and it has a [Health Watcher][healthWatcher] built in for your use.

[healthWatcher]: https://gist.github.com/4049879

#### Model mixins
models/CrudModel has the `persist` mixin which present the same API as the `memory` mixin. However, this will retain data across browser sessions. It has an external dependency on [kizzy][kizzy].

[kizzy]: https://github.com/ded/Kizzy

#### Controller mixins
controllers/HtmlController presents a bunch of bindings for navigation and lists. These were abstracted above implementation specific but still require a specific data format to use properly.

### Optimization
public/js/all.json + utils/jsRender.js - jsRender reads in the settings from all.json, reads in files from `public/js`, namespaces their defines, and writes them to `dist/js/all.js`.

routes/mvc.js + routes/mvc.json - Collect MVC files into HTML documents based on groupings/permissioning specified within `routes/mvc.json`.

public/js/mvc.js - `mvc.js` from Halo with grouping handler for the files created by `routes/mvc.js + routes/mvc.json`. The handler is accessible via `mvc!g/name` and breaks up `<script>`s to interprets each one as a model, view, or controller.

### public/js
arrayTree - Data structure for storing generating arrays of items under the respective same keys.

bodyerror.js - When an `error` event from the DOM hits `document.body`, display an error message. This `error` event is a DOM event like a `click`/`touch`, generated by `validate.js` and such.

expand.js - jQuery plugin for handling the expansion/collapsing of content.

focusable.js - jQuery plugin to add a `focus` class on `click` events. `blur` must be called manually.

generator.js - jQuery plugin to handle robustly adding/removing rows. It gets very complicated when you add in cloning and bindings (the key is to always delegate).

Helper.js - Utility object with string, filtering, and cloning methods.

microevent.js - Modified microevent to use EventEmitter syntax.

msg.js - Key-value store + templating wrapper for DHTMLX's message library.

onchange.js - jQuery plugin to intelligently listen/watch for a `input[type=text]` for changes. On `focus`, it begins a `setTimeout` loop of 100ms to check for changes and fire properly when one occurs. On `blur`, it runs and stops the `setTimeout` loop.

require.js - Modified require.js to use XHR (no longer necessary) and provide custom methods for `config` introspection.

requiredom.js - jQuery plugin that binds event listeners to detect when content is attached to the DOM. This uses a custom Sauron channel, `dom/insert` which is emitted to by `HtmlController`.

switcher.js - jQuery plugin to move between different pieces of content with a common button to toggle through them.

tabrow.js - jQuery plugin for handling tabs

toggle.js - jQuery plugin that adds/removes `isChecked` class to element when clicked.

tooltip.js - jQuery plugin that adds a tooltip to an element when hovered over.

validate.js - jQuery plugin for validation handling of fields. It is a low-level interface for validating input. Higher level wrappers, validateField and validateForm (intended for containers) use this API for a higher level interface.

validateField.js - jQuery plugin that listens for `validate` errors (propagating up the DOM) and either renders them to `.validateFieldError` or lets them pass through.

validateForm.js - jQuery plugin that provides methods to check all `validate` inputs and verify they are all passing. Otherwise, error messages are displayed via their respective `validateField`s.


## Contributing
In lieu of a formal styleguide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code using [grunt](https://github.com/gruntjs/grunt).

## License
Copyright (c) 2013 Ensighten
Licensed under the MIT license.
